<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clothing & Measurements - Login</title>
    <link href="./dist/output.css" rel="stylesheet">
</head>

<body class="bg-gradient-to-br from-slate-50 to-stone-100 font-sans antialiased">
    <div class="min-h-screen flex items-center justify-center px-4 py-12">
        <div class="w-full max-w-6xl">
            <!-- Login Card -->
            <div class="bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden">
                <div class="flex min-h-[600px]">
                    <!-- Left Side - Gradient Section -->
                    <div class="w-1/2 p-12 flex flex-col justify-center items-center text-white rounded-l-3xl bg-cover bg-center bg-no-repeat relative"
                        style="background-image: url('./src/images/gradient.jfif');">
                        <!-- Overlay for better text readability -->
                        <div class="absolute inset-0 bg-black/40 rounded-l-3xl"></div>
                        <div class="text-center relative z-10">
                            <div class="mb-8">
                                <div
                                    class="w-24 h-24 mx-auto bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20">
                                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                    </svg>
                                </div>
                            </div>
                            <h1 class="text-4xl font-light mb-4 tracking-wide">
                                Clothing & Measurements
                            </h1>
                            <p class="text-gray-300 text-lg mb-8 font-light leading-relaxed">
                                Professional Tailoring System
                            </p>
                            <div class="space-y-4 text-gray-400 flex flex-col items-start w-[220px] mx-auto">
                                <div class="flex items-center justify-start space-x-3">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>Precise Measurements</span>
                                </div>
                                <div class="flex items-center justify-start space-x-3">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>Client Management</span>
                                </div>
                                <div class="flex items-center justify-start space-x-3">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M5 13l4 4L19 7" />
                                    </svg>
                                    <span>Order Tracking</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Side - Login Form -->
                    <div class="w-1/2 p-12 flex flex-col justify-center">
                        <div class="max-w-md mx-auto w-full">
                            <div class="text-center mb-8">
                                <h2 class="text-3xl font-light text-gray-800 mb-2">Welcome Back</h2>
                                <p class="text-gray-600">Please sign in to your account</p>
                            </div>
                            <form id="loginForm" class="space-y-6">
                                <!-- Email/Username Field -->
                                <div class="space-y-2">
                                    <label for="email" class="block text-sm font-medium text-gray-700">
                                        Email or Username
                                    </label>
                                    <input type="text" id="email" name="email"
                                        class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition duration-200 bg-gray-50 focus:bg-white outline-none"
                                        placeholder="Enter your email or username" required>
                                    <div id="emailError" class="text-red-500 text-sm hidden">Please enter a valid email
                                        or
                                        username</div>
                                </div>

                                <!-- Password Field -->
                                <div class="space-y-2">
                                    <label for="password" class="block text-sm font-medium text-gray-700">
                                        Password
                                    </label>
                                    <input type="password" id="password" name="password"
                                        class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition duration-200 bg-gray-50 focus:bg-white outline-none"
                                        placeholder="Enter your password" required>
                                    <div id="passwordError" class="text-red-500 text-sm hidden">Password is required
                                    </div>
                                </div>

                                <!-- Remember Me & Forgot Password -->
                                <div class="flex items-center justify-between">
                                    <label class="flex items-center">
                                        <input type="checkbox" id="remember"
                                            class="rounded border-gray-300 text-gray-600 focus:ring-gray-500 focus:ring-2">
                                        <span class="ml-2 text-sm text-gray-600">Remember me</span>
                                    </label>
                                    <a href="#"
                                        class="text-sm text-gray-600 hover:text-gray-800 transition duration-200">
                                        Forgot password?
                                    </a>
                                </div>

                                <!-- Login Button -->
                                <button type="submit" id="loginButton"
                                    class="w-full bg-gradient-to-r from-gray-800 to-gray-900 text-white py-3 px-4 rounded-lg font-medium hover:from-gray-900 hover:to-black transition duration-300 transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2">
                                    Sign In
                                </button>

                                <!-- Success/Error Messages -->
                                <div id="loginMessage" class="text-center text-sm hidden">
                                    <div id="successMessage" class="text-green-600 hidden">Login successful! Welcome
                                        back.</div>
                                    <div id="errorMessage" class="text-red-600 hidden">Invalid credentials. Please try
                                        again.
                                    </div>
                                </div>
                            </form>

                            <!-- Footer -->
                            <div class="mt-8 pt-6 border-t border-gray-100">
                                <p class="text-center text-xs text-gray-500">
                                    Â© 2025 Clothing & Measurements. All rights reserved.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            const { ipcRenderer } = require('electron');

            // Get form elements
            const loginForm = document.getElementById('loginForm');
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');
            const loginButton = document.getElementById('loginButton');
            const emailError = document.getElementById('emailError');
            const passwordError = document.getElementById('passwordError');
            const loginMessage = document.getElementById('loginMessage');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');

            // Form validation
            function validateEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email) || email.length >= 3; // Allow username or email
            }

            function validatePassword(password) {
                return password.length >= 6;
            }

            function showError(element, show) {
                if (show) {
                    element.classList.remove('hidden');
                } else {
                    element.classList.add('hidden');
                }
            }

            function showMessage(type, message) {
                loginMessage.classList.remove('hidden');
                if (type === 'success') {
                    successMessage.classList.remove('hidden');
                    errorMessage.classList.add('hidden');
                    successMessage.textContent = message;
                } else {
                    errorMessage.classList.remove('hidden');
                    successMessage.classList.add('hidden');
                    errorMessage.textContent = message;
                }
            }

            function hideMessages() {
                loginMessage.classList.add('hidden');
                successMessage.classList.add('hidden');
                errorMessage.classList.add('hidden');
            }

            // Real-time validation
            emailInput.addEventListener('input', function () {
                const isValid = validateEmail(this.value);

                // Only hide error if field becomes valid while typing
                if (isValid && !emailError.classList.contains('hidden')) {
                    showError(emailError, false);
                }
            });

            // Show error and change border color only when user leaves the field
            emailInput.addEventListener('blur', function () {
                const isValid = validateEmail(this.value);
                showError(emailError, !isValid && this.value.length > 0);

                // Update border styling on blur
                if (isValid) {
                    this.classList.remove('border-red-300', 'focus:ring-red-500');
                    this.classList.add('border-gray-200', 'focus:ring-gray-500');
                } else if (this.value.length > 0) {
                    this.classList.add('border-red-300', 'focus:ring-red-500');
                    this.classList.remove('border-gray-200', 'focus:ring-gray-500');
                }
            });

            passwordInput.addEventListener('input', function () {
                const isValid = validatePassword(this.value);

                // Only hide error if field becomes valid while typing
                if (isValid && !passwordError.classList.contains('hidden')) {
                    showError(passwordError, false);
                }
            });

            // Show error and change border color only when user leaves the field
            passwordInput.addEventListener('blur', function () {
                const isValid = validatePassword(this.value);
                showError(passwordError, !isValid && this.value.length > 0);

                // Update border styling on blur
                if (isValid) {
                    this.classList.remove('border-red-300', 'focus:ring-red-500');
                    this.classList.add('border-gray-200', 'focus:ring-gray-500');
                } else if (this.value.length > 0) {
                    this.classList.add('border-red-300', 'focus:ring-red-500');
                    this.classList.remove('border-gray-200', 'focus:ring-gray-500');
                }
            });

            // Form submission
            loginForm.addEventListener('submit', function (e) {
                e.preventDefault();
                hideMessages();

                const email = emailInput.value.trim();
                const password = passwordInput.value;

                // Validate inputs
                const emailValid = validateEmail(email);
                const passwordValid = validatePassword(password);

                showError(emailError, !emailValid);
                showError(passwordError, !passwordValid);

                if (!emailValid || !passwordValid) {
                    return;
                }

                // Show loading state
                loginButton.textContent = 'Signing In...';
                loginButton.disabled = true;
                loginButton.classList.add('opacity-75');

                // Simulate login process (replace with actual authentication)
                setTimeout(() => {
                    // Demo credentials for testing
                    if ((email === 'admin' || email === 'admin@clothing.com') && password === 'password123') {
                        showMessage('success', 'Login successful! Redirecting...');

                        // Navigate to page2.html after successful login
                        setTimeout(() => {
                            window.location.href = 'page2.html';
                        }, 1500);
                    } else {
                        showMessage('error', 'Invalid credentials. Please check your email and password.');
                    }

                    // Reset button state
                    loginButton.textContent = 'Sign In';
                    loginButton.disabled = false;
                    loginButton.classList.remove('opacity-75');
                }, 1500);
            });

            // Handle forgot password click
            document.querySelector('a[href="#"]').addEventListener('click', function (e) {
                e.preventDefault();
                ipcRenderer.send('forgot-password');
            });
        </script>
</body>

</html>